(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{6491:function(e,t,n){"use strict";var r=n(5944),i=(n(7294),n(9166)),o=n(3751),a=n(849);t.Z=function(e){var t=e.isDark;return(0,r.tZ)(i.Z,{children:(0,r.tZ)(o.Z,{active:!0,inverted:!t,children:(0,r.tZ)(a.Z,{size:"big",children:"Loading"})})})}},2855:function(e,t,n){"use strict";var r=n(7294),i=n(1163),o=n(6212);t.Z=function(){var e=(0,i.useRouter)(),t=(0,o.ZP)(),n=t.data,a=t.isLoading;(0,r.useEffect)((function(){null!==(null===n||void 0===n?void 0:n.player)||a||e.push("/")}),[n,e,a])}},5880:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var r=n(5944),i=n(809),o=n.n(i),a=n(2447),c=n(7294),l=n(3011),u=n(5675),s=n(6492),d=n.n(s),v=n(5382),p=n(3751),h=n(849),m=n(9445),f=n(8311),g=n(6983),Z=n(8237),y=n(3626),b=n(7401),w=function(e){switch(e){case"Entertainment: Books":return"/Entertainment Books.jpg";case"Entertainment: Film":return"/Entertainment Film.jpg";case"Entertainment: Music":return"/Entertainment Music.jpg";case"Entertainment: Musicals & Theatres":return"/Entertainment Musicals & Theatres.jpg";case"Entertainment: Television":return"/Entertainment Television.jpg";case"Entertainment: Video Games":return"/Entertainment Video Games.jpg";case"Entertainment: Board Games":return"/Entertainment Board Games.jpg";case"Science & Nature":return"/Science & Nature.jpg";case"Science: Computers":return"/Science Computers.jpg";case"Science: Mathematics":return"/Science Mathematics.jpg";case"Mythology":return"/Mythology.jpg";case"Sports":return"/Sports.jpg";case"Geography":return"/Geography.jpg";case"History":return"/History.jpg";case"Politics":return"/Politics.jpg";case"Art":return"/Art.jpg";case"Celebrities":return"/Celebrities.jpg";case"Animals":return"/Animals.jpg";case"Vehicles":return"/Vehicles.jpg";case"Entertainment: Comics":return"/Entertainment Comics.jpg";case"Science: Gadgets":return"/Science Gadgets.jpg";case"Entertainment: Japanese Anime & Manga":return"/Entertainment Japanese Anime & Manga.jpg";case"Entertainment: Cartoon & Animations":return"/Entertainment Cartoon & Animations.jpg";default:return"/General Knowledge.jpg"}},j=n(8100),E=function(){var e=(0,c.useRef)(!1),t=function(){var t=(0,a.Z)(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.current=!0,t.next=3,fetch("https://opentdb.com/api.php?amount=".concat(n));case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=(0,j.ZP)("questions",t,{revalidateOnMount:!1,revalidateOnFocus:!1}),r=n.data,i=n.error,l=n.isValidating,u=n.mutate,s=function(){var e=(0,a.Z)(o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:return r=e.sent,e.next=5,u(r,!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{wasFetched:e.current,refetch:s,data:r,error:i,isValidating:l}},k=n(2855),x=n(6212),S=n(9166),C=n(6265),O=n(1385),_=n(1609),M=n.n(_),P=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e},B=n(5366);var q=(0,B.Z)("div",{target:"eq9viib0"})({name:"1gok8e8",styles:"margin-bottom:0.5rem"});function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T="multiple",G="boolean",D=function(e){var t=e.question,n=e.onAnswerSelection,i=e.isCorrect,o=(0,c.useState)(null),a=o[0],l=o[1],u=(0,c.useCallback)((function(e){return function(){l(e),n(e)}}),[n]),s=(0,c.useMemo)((function(){return T===(null===t||void 0===t?void 0:t.type)?P([null===t||void 0===t?void 0:t.correct_answer].concat((0,O.Z)(null===t||void 0===t?void 0:t.incorrect_answers))):G===(null===t||void 0===t?void 0:t.type)?["True","False"]:[]}),[null===t||void 0===t?void 0:t.correct_answer,null===t||void 0===t?void 0:t.incorrect_answers,null===t||void 0===t?void 0:t.type]);return null===s||void 0===s?void 0:s.map((function(e,t){var n=!M()(s)&&a&&(null===s||void 0===s?void 0:s.findIndex((function(e){return e===a})))===t?i?{color:"green"}:null===i?{color:"blue"}:{color:"red"}:{};return(0,r.tZ)(q,{children:(0,r.tZ)(Z.Z,A(A({id:"question-".concat(t),onClick:u(e)},n),{},{children:d().decode(e)}),t)},t)}))},N=n(6491),V=n(6378),z=n(2852);var F=(0,B.Z)(y.Z.Description,{target:"e1qhyypa5"})("position:absolute;top:0;right:0;",z.My,"{transform:translate3d(50%, -50%, 0);}"),H=(0,B.Z)(y.Z.Description,{target:"e1qhyypa4"})("margin-bottom:0.5rem;color:",(function(e){var t=e.theme;return"".concat(t.text.primary," !important")}),";"),L=(0,B.Z)("div",{target:"e1qhyypa3"})({name:"1nrevy2",styles:"position:relative;display:inline-block"}),R=(0,B.Z)(y.Z.Content,{target:"e1qhyypa2"})("background-color:",(function(e){var t=e.theme;return"".concat(t.bg.primary," !important")}),";"),Y=(0,B.Z)(y.Z.Header,{target:"e1qhyypa1"})("color:",(function(e){var t=e.theme;return"".concat(t.text.primary," !important")}),";& h2{color:",(function(e){var t=e.theme;return"".concat(t.text.primary," !important")}),";}"),J=(0,B.Z)(f.Z.Value,{target:"e1qhyypa0"})("color:",(function(e){var t=e.theme;return"".concat(t.text.primary," !important")}),";"),I=[{value:"easy",color:"green",text:"(1 point)"},{value:"medium",color:"orange",text:"(2 points)"},{value:"hard",color:"red",text:"(3 points)"}],K=function(){var e,t,n,i,s,j,C;(0,k.Z)();var O=(0,l.Z)(!1).value,_=(0,c.useState)(0),M=_[0],P=_[1],B=(0,c.useState)(null),q=B[0],X=B[1],A=(0,c.useState)(0),T=A[0],G=A[1],z=(0,c.useState)(!1),K=z[0],Q=z[1],U=(0,c.useState)(null),W=U[0],$=U[1],ee=(0,x.ZP)(),te=ee.data,ne=ee.isLoading,re=ee.updateScore,ie=E(),oe=ie.refetch,ae=ie.error,ce=ie.data,le=ie.isValidating,ue=ie.wasFetched,se=(0,c.useMemo)((function(){var e;return null===ce||void 0===ce||null===(e=ce.results)||void 0===e?void 0:e[M]}),[M,null===ce||void 0===ce?void 0:ce.results]),de=null===te||void 0===te?void 0:te.player,ve=null===te||void 0===te||null===(e=te.player)||void 0===e?void 0:e.name,pe=null===de||void 0===de||null===(t=de.preferences)||void 0===t?void 0:t.numQuestions,he=(0,c.useCallback)(function(){var e=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(ve,t,null===ce||void 0===ce||null===(n=ce.results)||void 0===n?void 0:n.length);case 2:Q(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ve,null===ce||void 0===ce||null===(n=ce.results)||void 0===n?void 0:n.length,re]),me=(0,c.useCallback)((function(e){return function(){var t=q===(null===se||void 0===se?void 0:se.correct_answer);$(t);var n=t?T+1:T;"medium"===(null===se||void 0===se?void 0:se.difficulty)&&t&&(n+=1),"hard"===(null===se||void 0===se?void 0:se.difficulty)&&t&&(n+=2),t&&G(n);var r=function(){var t;return e?he(n):(P(Math.min(M+1,(null===ce||void 0===ce||null===(t=ce.results)||void 0===t?void 0:t.length)-1)),X(null),$(null))};q?setTimeout(r,2e3):r()}}),[q,null===se||void 0===se?void 0:se.correct_answer,null===se||void 0===se?void 0:se.difficulty,T,he,M,null===ce||void 0===ce||null===(i=ce.results)||void 0===i?void 0:i.length]),fe=(0,c.useCallback)((function(e){return X(e)}),[]),ge=(0,c.useCallback)((0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(0),X(null),G(0),Q(!1),$(null),oe(pe);case 6:case"end":return e.stop()}}),e)}))),[oe,pe]);(0,c.useEffect)((function(){de&&pe&&!ue&&oe(pe)}),[pe,oe,ue,de]);var Ze=null===(s=I.filter((function(e){return(null===e||void 0===e?void 0:e.value)===(null===se||void 0===se?void 0:se.difficulty)})))||void 0===s?void 0:s[0],ye=M===(null===ce||void 0===ce||null===(j=ce.results)||void 0===j?void 0:j.length)-1,be=w(null===se||void 0===se?void 0:se.category),we=null===ce||void 0===ce||null===(C=ce.results)||void 0===C?void 0:C.reduce((function(e,t){return"medium"===(null===t||void 0===t?void 0:t.difficulty)?e+2:"hard"===(null===t||void 0===t?void 0:t.difficulty)?e+3:e+1}),0),je=ae||ce&&0!==ce.response_code;return ne||null===de?(0,r.tZ)(N.Z,{isDark:O}):je?(0,r.tZ)(S.Z,{children:(0,r.BX)(V.og,{inverted:O,padded:!0,style:{marginTop:"2em"},children:[(0,r.tZ)(v.Z,{name:"exclamation triangle",color:"red"}),"Something went wrong fetching the questions"]})}):le||null===ce||void 0===ce||!ce.results?(0,r.tZ)(p.Z,{active:!0,inverted:!O,children:(0,r.tZ)(h.Z,{size:"big",children:"Loading"})}):(0,r.tZ)(S.Z,{children:(0,r.tZ)(V.og,{inverted:O,padded:!0,style:{marginTop:"2em"},children:K?(0,r.BX)(r.HY,{children:[(0,r.tZ)(m.Z,{as:"h2",children:"Your Score is"}),(0,r.BX)(f.Z,{children:[(0,r.BX)(J,{children:[T,"/",we]}),(0,r.tZ)(f.Z.Label,{children:(0,r.tZ)(g.Z,{disabled:!0,maxRating:5,defaultRating:Math.floor(5*T/we),icon:"star",size:"massive"})})]}),(0,r.tZ)("div",{children:(0,r.tZ)(Z.Z,{primary:!0,onClick:ge,size:"big",children:"Try Again?"})})]}):(0,r.BX)(r.HY,{children:[(0,r.BX)("p",{children:["Current Score:",(0,r.tZ)("strong",{children:T})," / Game Points:"," ",(0,r.tZ)("strong",{children:we})]}),(0,r.BX)(y.Z,{fluid:!0,style:{boxShadow:"none"},children:[(0,r.BX)(R,{children:[(0,r.BX)(L,{children:[(0,r.tZ)(u.default,{src:be,width:300,height:200}),Ze&&(0,r.tZ)(F,{children:(0,r.tZ)(b.Z,{as:"span",color:null===Ze||void 0===Ze?void 0:Ze.color,tag:!0,children:"".concat(null===Ze||void 0===Ze?void 0:Ze.value," ").concat(null===Ze||void 0===Ze?void 0:Ze.text)})})]}),(0,r.tZ)(H,{children:null===se||void 0===se?void 0:se.category}),(0,r.tZ)(Y,{children:(0,r.tZ)(m.Z,{as:"h2",children:d().decode(null===se||void 0===se?void 0:se.question)})})]}),(0,r.tZ)(R,{extra:!0,children:(0,r.tZ)(D,{question:se,onAnswerSelection:fe,isCorrect:W})}),(0,r.tZ)(R,{extra:!0,textAlign:"right",children:ye?(0,r.BX)(Z.Z,{icon:!0,labelPosition:"right",primary:!0,onClick:me(!0),size:"big",children:["End",(0,r.tZ)(v.Z,{name:"right arrow"})]}):(0,r.BX)(Z.Z,{icon:!0,labelPosition:"right",primary:!0,onClick:me(!1),size:"big",children:["Next",(0,r.tZ)(v.Z,{name:"right arrow"})]})})]})]})})})}},5819:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(5880)}])}},function(e){e.O(0,[774,805,862,372,841,166,888,179],(function(){return t=5819,e(e.s=t);var t}));var t=e.O();_N_E=t}]);